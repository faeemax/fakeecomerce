{% extends "layout.html" %}

{% block content %}
<div style="margin-top: 100px;">
    <a href="/" style="opacity: 0.5;">&larr; Return to Void</a>
</div>

<div class="detail-container">
    <div class="detail-item">
        <img src="{{ product.image_url if product.image_url else 'https://placehold.co/600x400/111/eee?text=' ~ product.name }}"
            alt="{{ product.name }}" class="detail-image">
    </div>
    <div class="detail-info" style="max-width: 500px;">
        <h1>{{ product.name }}</h1>
        <p style="font-size: 1.5rem; color: var(--accent-color);">{{ product.price }} {{ store.currency }}</p>
        <p style="margin: 20px 0; line-height: 1.6;">{{ product.description }}</p>

        <p style="font-size: 0.9rem; color: #888;">
            Stock: {{ product.stock }} | Type: {{ product.type }}
        </p>

        <form action="{{ url_for('add_to_cart', product_id=product.id) }}" method="POST">
            {% if product.stock != 0 %}
            <button type="submit" name="action" value="add" class="btn-buy">Add to Cart ðŸ›’</button>
            <button type="submit" name="action" value="buy" class="btn-buy"
                style="background: var(--accent-color); color: #fff; margin-left: 15px;">Acquire Asset ðŸ‘½</button>
            {% else %}
            <button type="button" class="btn-buy" style="background: #555; cursor: not-allowed;" disabled>Out of Stock
                (Forever?)</button>
            {% endif %}
        </form>
    </div>
</div>
{% endblock %}